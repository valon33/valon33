{"version":3,"sources":["Model/location.js","Model/current.js","utils/utils.js","views/currentView.js","Model/search.js","Model/woeId.js","views/searchView.js","views/woeidView.js","main.js"],"names":["getLocation","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","coords","accuracy","altitude","altitudeAccuracy","heading","latitude","longitude","speed","timestamp","Error","getCoords","data","cords","lat","long","err","console","log","getWeatherAW","lng","cors","key","result","fetch","json","res","temp","Math","round","main","temp1","humidity","windSpeed","wind","icon","weather","des","description","feels","feels_like","pressure","sunrise","sys","sunset","id","name","country","elements","body","document","querySelector","addIcon","searchInput","searchForm","clearPage","innerHTML","renderLoader","parent","loader","spinner9","insertAdjacentHTML","clearLoader","parentElement","removeChild","clearAddIcon","getDay","date","weekDays","d","Date","day","currDay","widnDirection","windD","startsWith","converDate","reversDate","split","reverse","join","weatherBasedOnGeoLocation","markup","adIcon","plusOutline","Search","constructor","query","getResults","proxy","method","mode","title","woeid","lantLang","latt_long","error","WoeID","consolidatedData","dataComplete","Array","from","consolidated_weather","splice","dataShort","dataName","searchView","cityRender","renderError","getInput","queryValue","value","clearInput","createDay","applicable_date","weather_state_abbr","the_temp","max_temp","min_temp","woeidToday","n","wind_speed","wind_direction_compass","map","el","state","weatherOnGeoLocation","w","message","status","stack","window","addEventListener","e","btn","target","closest","controlSearch","search","cityController","dataset","form","city","preventDefault"],"mappings":";;AQAA;;AACA;;AACA;APFO,ADAP,AIAe,ACAA,AHAf,ACAA,AGAA,ACAA,MHAqB4F,ACAAY,GLAZxG,EKAM,CDAA,ACAY,CDAC,EHAN0B,KDAtB,GAAuB,ICAhB,CAA4BL,GAA5B,EAAiCM,GAAjC,EAAsC;AACzC,ADAA,AIAAkE,ACAAA,AGQJ,EJRIA,ACAAA,OLAO,IAAI5F,AIAA,ACAA,CDAC6F,ACAAM,KDAD,ACAA,CLAJ,CAAY,AIAA,ACAA,CLAClG,OAAD,EAAUC,MAAV,KAAqB;ACCxC,ADAI,AIAA,ACAA,AFDR,AGCO,ACAP,MDAa8G,ACAPO,ENAI5F,ADAExB,CIAC0F,ACAAM,GJAC,EGAN,ACAA,CJAS,AMAF,CDAQ,CLAnB,ADAiB,AIAAN,ACAAM,CLAC/F,AOAJc,CDAQ,GFAlB,ACAA,AEAc,GDAU,CCAN,GPAlB,EAA2B;ACC/B,ADAQf,AIAP,ACAA,AGOL,AFPI,ACAA,MPAQA,ECAFyB,AKAA4D,CCAE,ENAC,GAAG,AKAA,CNAK,CAACpF,CMAF,UNAR,CAAsBC,kBAAtB,CAAyCC,CCAjD,ODAyD,IAC7CL,OAAO,CAAC;ACApB,ADCgBM,AEHb,MAAM+C,EDEHzB,ADCUtB,MCDJ,ADCU,AEHL,EFGO,CCDT,ACFK,MDECuB,KAAK,CACrB,GAAEH,IAAK,sDAAqDP,GAAI,QAAOM,GAAI,uBAAsBE,GAAI;ADCtFpB,AIDpB,ACAA,AGMJ,ANRI+C,EAAAA,IAAI,EEEEuC,ACAAA,AHFAtC,CDCoB,CAGtB,ADDgBhD,MEHN,CAACiD,CFGa,AID5B,ACAA,ELC8BnD,CIDX,ACAA,AEAF,OPCqB,CAACC,CEHjC,CAAuB,IFGC,CAAgBC,EEHxC,CADc,CKGIU,IPAA,AOAI,CAACsG,eAAZ,CAA6B;ANG1C,ADDgB/G,AIDhB,ACAA,AHFJiD,ACFJ,EDEIA,OAAO,CFGajD,AKDVsF,CHFDvC,IGEM,GLCa,AKDV,CHFD,CFGalD,AEHZmD,QFGoB,CAAClD,IEH9B,CAAuB,CFGF,CAAgBE,QAFtB,EEDf,CAFW,SGIhB;AJFsB,ADINC,AIDhB,AIKR,ANPIiD,ACDG,EDCHA,CDDA,GEAS4B,IHIW7E,GEHT,EAAE8C,QAAQ,CAACC,EFGc,EAAEnD,GGJJ,GAAG0B,EHIS,CAACzB,AEHlC,ACD2B,CDCJ,GCDQ,EHIN,CAAgBG,UEHzC,CAHO,KFGI;ACMxB,ADFoBC,AIDhB,ACDA,AHDJiD,ACDA,EDCAA,MDKM1C,AIJE,AFFFsE,EHIc7E,AIDVoF,EHGA,ACLA,EAAEvC,ACDA,CFMC,AGHE,EJCY,AGJX,CCGE,CJCWlD,CIDzB,CHGeuB,CCLC,CAAC4B,IDKI,ADFY,CCEX1B,ADFYxB,ICEnB,EAAnB,ADF6B,CCTY,ADSII,CCG7C,ACNY,CAAuB,KFDX,WECZ;AFIQC,AKFZ,AGWZ,ANjBwB,CAAjB,SFQiBA,EKFNoB,GAAG,GLEW,AKFR,ELEU1B,IKFJwB,ILEY,CAACvB,AKFR,CAClB,GAAEwF,ELCe,CAAgBnF,EKDzB,MLJG,sCKIwC,KAAKuF,KAAM,EAD5C,CAAvB;AJMR,ADHoBtF,AIFhB,ACEI,QJGFmB,AGLE,EJEYnB,CCGX,CIHKK,EJGF,EIHM,GLAW,AKAR,ELAUZ,IKAJ0B,GAAG,CLAS,AKARD,CLASxB,GKAb,EAAnB,CLAuB,AKJvB,CLIuCM,AKEvC,SLRgB,iBOMpBK,IAAI,CAACuG,kBACR;ANGGxF,ADHgBnB,AIFZ,ACIA,IJCJmB,EKZJ,ELYQ,EAAEC,ADHUpB,EIFNkB,EHKA,CAACG,ADHU,AIFR,EJEU7B,CIFP,EHKV,CAAWY,GGLKY,CHKD,ADHU,CCGTM,ADHU7B,GIFL,CHKV,CAAU0B,AGJnB,CJCe,CAAgBnB,ECGjC,CADE,GENuBkB,GAAG,CAACoB,IAAK;AFQxCf,ADXoB,AIOX,ACGL,AHNL,AIIHiB,ILGIjB,ECPKwB,GDOA,ADZW,ECYT3C,IAAI,ACPG,CDOFkB,ECPK,AIIZmB,ELGE,CAAUtB,CKHrB,CAAc6B,CJJa,CDKf,OKDZ,GAA0B0B,MAA1B,4BFH+B,EAGnB;AHIRlD,ADHYvB,AIAAiF,ACER,AGKZ,ANXI1C,AIIH,CAZM,CJQHA,EDOIhB,EOIF6F,ERPcpH,AIAAiF,EFJR,CMWD,ANXEzC,CDOG,EAAErC,AGHQ,AIOZ,CNXV,CEIwB,AIO5B,ANXkB4C,CFIW,CCGP,CAAC1B,ADHQ9B,EIDf,EHIE,CAAUgC,CCPxB,CKKsBJ,CPDa,CAACnB,AEJV,EAA1B,AKK0B,CAACoB,CNDf,IMCU,CAAWjB,EJLEc,EIKE,CJLC,AIKA0F,CJLCzF,IAAK,GIKtB,CAA0B;ANG5CM,ADdgB,AIWJ0D,ACER,AGKZ1E,ANXC,CAFM,GDSCgB,GDde,AQkBhB,CRnBK,AIYQ0D,AIOZzE,GAAR,CJPwB,AIOZ2G,CPJK,CGHS,CHGPjH,EOInB,EPJuB,CAACsB,GGLR,CHKG,AGFC,CHES1B,KAJb;AAKR2B,ADFC,AIAW,IHEZA,CDjBA,GCiBI,EAAEvB,CDFC,GCEG,CAACwB,GMFDR,INEJ,AMFQ,CNEK,AMFJC,CNET,EAAgBM,EMFZ,CAAWvB,CNHb,GMGiB,CAACyG,QAAhB,CAA0B,UJLS3F,GAAG,CAACS,IAAK;AFQtDE,ADFIzC,AIAQ,ACAR,AGMZ,IPJQyC,EDFIzC,AQMNkI,CPJK,EAAElH,CIFGA,ELAE,CCED,ADFE,CCEDwB,AIFN,EAAU,CLAC1B,COALkB,GNEL,CAAa,ADFP,AOAG,CNET,ADFgB,AOANC,ENEMS,COIH,EDNR,CCMW,ADNA1B,IAAI,CAAC0G,ENJlB,KOUyB,CDNvB,CAA0B,mBPAzB,CAAD,CAAN;ACGJ/E,ADFC,AIAW,ACAJ,AGMZ,AFTG,ILKCA,EKLKoE,EESH,CPJG,EAAE/F,EIFMsF,EJEF,CAACpE,AKLG,GAAGJ,CLKX,CAAUc,CKLI,IAAI,GDGjB,EJLA,CIKwB;AJGhCC,ADFH,AIAe,ACAA0D,AGKRrF,ANZL,AIIH,GNhBO,CCqBH2B,ADrBJ,AQwBQ3B,ENZC2C,CMYH,CFRAyB,EDGUiB,EJEJ,EAAEvF,AKLF,GAAI,CLKE,ACTG,CDSFkB,ECTK4B,CGOI,CJEd,CAAUjB,AIFM2D,GHPA,EGOK,CAACC,CHPF,CDCtB,EIMkB,CAAWzF,IAAI,CAAC0F,oBAAhB,EAAsCC,MAAtC,CAA6C,CAA7C,EAA+C,CAA/C,CADM;AJIhC7D,ADFP,AKAmB8D,AGIHzF,ANXb,IDSI2B,AOES3B,INXP4C,EGOU6C,CJEL,EAAE5F,CCTD,GDSK,ACTD,CDSE+B,CIFO,EJEZ,AIFeyD,CJEN1D,IIFW,CAAC2D,EJPtB,EIOgB,CAAWzF,IAAI,CAAC0F,MCHL5E,GAAG,CAACmE,KAAM,KDGrB,CFL0BnE,CEKY6E,EFLT,CAACvE,GEK9B,CAA6C,CAA7C,CAFQ,EFH+B;AFQ/DY,AGXQ,ACSI6D,AGGV,IPDF7D,EOCkB,CJfS,AGP/B,CHOQ,EHcE,AIFM6D,EJEJ7F,AOCgB,IPDZ,CAAC+B,CIFO,EJEZ,AIFe/B,CJENgC,GIFU,CAACgD,EJRpB,WOWZ,eLRiDlE,GAAG,CAACO,SAAU;AFQ3DY,ADFD,AIAK,ACJ4B,AGOpC5B,ADHH,CArBD,CCwBIA,EPDI4B,EAAE,EAAEjC,CINI,AGOL,CAACM,CJHKN,CHED,AKLJc,CLKKmB,AOCb,CAAY/B,CPZA,ADSMH,AIAV,AEHG,CAACmC,CEMZ,CJHoB,CIGH/B,CFNA,GEMjB,CRHG,AIAuBW,GJAI,AIAD,CAACD,IAAJ,EAAlB,sBDL4CC,GAAG,CAACO,SAAU;AFQ9Da,ADFJ,AIAQ7B,ACAC,AGGT,IPDI6B,EDFA,AIAI7B,EHEA,EAAEL,GGFK,CHED,AGFEM,CHED4B,EGFP,CAAYlC,CHVR,GGUJ,GFPagD,EMURZ,cNViB,EMURC,IAAtB;APAIF,ADFA,AICI,ACAH,AEDF,INECA,CIpBA,CAmBE,AEDGwE,IPAC3G,CCEC,AGDEkC,EHCAlC,AIDAoF,CLDC,CICN,CGDW,CNEF,ADFA,CCECrD,AGDE,ACAd,CEDgB,CFCF,AEDG6E,CNEV,AMFS,CNEAzE,CDFCtD,AOAGmB,CHCA,GGDJ,EHCSA,AGDCyD,CAAV,GHCI,CJDQ,AICE,CAAV,AEJK3C,ACGO,CPAlC,CICmCkE,CEJL,CAACE,GFI3B,KEJuB,CAAahB,KAAb,CAAmB,GAAnB,EAAwBE,IAAxB,CAA6B,GAA7B,CAAkC;ALRrD,ADYR,AICI,ACAA/D,AGCR,ADFA,GNZA,CAdyC,CA6BzC,CIFQA,AGCJ,EDFEiE,EPAIrE,CICGgF,ECAE,CAAC3E,AEDJ,CPAG,CICP,CCAA,AEDQ,CPAE,AKCE8E,CDAC,ICAb,EDAmB,KAAKpF,IAAL,CAAU,CAAV,EAAaiF,KAAhC;AJAA/E,AICA,ACAH,AGCD+G,CFZJ,EJHA,ACTA,CKwBIA,ERFI/G,GAAG,AQEF,CAACiH,CRFGnH,AICAkF,AICT,GAAU,CRFG,CAAC7F,GICV,CICY,ERFP,AICW,CJDCK,KICK,GJFZ,EIEiBM,IAAL,CAAU,CAAV,EAAamF,MICVjF,GJDzB,AICY,CJpBZ,CAqBA,AID8BC,IAAlB,CAAhB;APEJ,ADHQA,AIGH,ACFJ,AGCG,ANTJ2C,ACGAV,AGEAE,EJLAQ,AIKAR,GFjBI,CJmBInC,AIGF,EFVA,CDUCW,ACVAmC,CFOK,AMFJ,CACHV,CLIL,ADHcvC,CIGDoF,GJHK,CAAC/F,CIGb,ADPGgD,ECOW,EDPpB,CHIc,AGJAO,CHIYjD,AMF1B,CACmB,EJNnB,CAA0B,ICG1B,GAA0B2E,KDH1B,CCGA,CDHwCvB,CIKxC,EAEKE,GEEyBgE,ANT9B,KMSmC,CAACE,CAAhC,QFJJ,CAEwB,UAFxB,EAEoC7C,MAFpC;ALMH,ADNqB,AIMVjE,AIDJ,ANTP,ACGA,AGIA,CJhBM,ACTA,AGYA,CLkBP,GDRQ,CIMIA,OAAO,CAACC,GAAR,CAAY8E,KAAZ;AHGZ,ADLQ,AIGC,ACjCkB,AGgCtB,GAJD,CAIE,ORFSnF,AQEFmF,KRFL,AQEF,CRRE,CAOA,AQCY;APIpB,ADJK,AIEA,AIDG/E,GRTJ,CAQE,AQCEA,ORDKD,AQCE,CAACE,ERDV,CQCE,CRDU,AQCE8E,KAAK,CAACgC,OAAlB,EAA2BhC,KAAK,CAACiC,MAAjC,EAAyCjC,KAAK,CAACkC,KAA/C;APIR,ADJQjH,AQCH,IRDGA,OAAO,CAACC,GAAR,CAAYF,GAAZ,cODyB,mBAAOJ,IAAI,CAAC,CAAD,CAAJ,CAAQsG,eAAf,CAAgC;ANMjE,ADJK,AIlCuB,AImC3B,ANXM,ACGA,AGIA,CEPP,KNAapD,ACGAqB,AGIAyB,MHJM,GAAG,EDHE,AIOA,GJPG,AIOAlF,CHJC,EGIE,GJPG,CIOC,OCEA,uBAAWd,IAAI,CAAC,CAAD,CAAJ,CAAQsG,eAAnB,CAAoC;ANMtE,ADJC,AEVG,ACGA,AGIA,ENKJ,MEZUvD,ACGAuB,AGIAA,MJPM,ACGA,AGIA,GJPGhC,ACGC,A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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["function getLocation() {\r\n    return new Promise((resolve, reject) => {\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(position =>\r\n                resolve({\r\n                    coords: {\r\n                        accuracy: position.coords.accuracy,\r\n                        altitude: position.coords.altitude,\r\n                        altitudeAccuracy: position.coords.altitudeAccuracy,\r\n                        heading: position.coords.heading,\r\n                        latitude: position.coords.latitude,\r\n                        longitude: position.coords.longitude,\r\n                        speed: position.coords.speed\r\n                    },\r\n                    timestamp: position.timestamp\r\n                })\r\n            );\r\n        } else {\r\n            reject(new Error(\"Browser does not support geolocation!\"));\r\n        }\r\n    });\r\n}\r\n\r\nexport async function getCoords() {\r\n    try {\r\n        const data = await getLocation();\r\n        const cords = {\r\n            lat: data.coords.latitude,\r\n            long: data.coords.longitude\r\n        };\r\n        return cords;\r\n        // console.log(coords);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\n// getCoords();\r\n","export async function getWeatherAW(lat, lng) {\r\n    // const cors = \"https://cors-anywhere.herokuapp.com/\";\r\n    const cors = '';\r\n    const key = \"c3ec3275ce5f8cd5db0d598678dd0825\";\r\n    const result = await fetch(\r\n        `${cors}http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&units=metric&APPID=${key}\r\n        `\r\n        // `http://api.openweathermap.org/data/2.5/weather?q=london&appid=0a2612723b6d6bd2a53dad2bdd77cba5\r\n        // `\r\n    );\r\n\r\n    const data = await result.json();\r\n    // console.log(data);\r\n\r\n    const res = {\r\n        temp: Math.round(data.main.temp),\r\n        temp1: data.main.temp,\r\n        humidity: data.main.humidity,\r\n        windSpeed: data.wind.speed,\r\n        icon: data.weather[0].icon,\r\n        des: data.weather[0].description,\r\n        feels: data.main.feels_like,\r\n        pressure: data.main.pressure,\r\n        sunrise: data.sys.sunrise,\r\n        sunset: data.sys.sunset,\r\n        id: data.id,\r\n        name: data.name,\r\n        country: data.sys.country\r\n    };\r\n    // console.log(res);\r\n\r\n    return res;\r\n}\r\n\r\n// const getIcon = async () => {\r\n//     const result = await fetch(\r\n//         `https://cors-anywhere.herokuapp.com/http://openweathermap.org/img/wn/10d@2x.png\r\n//         `\r\n//     );\r\n//     const d = await result;\r\n//     console.log(result);\r\n// };\r\n\r\n// getIcon();\r\n","import spinner9 from \"../img/svg/spinner9\";\r\n\r\nexport const elements = {\r\n    body: document.querySelector(\".body\"),\r\n    addIcon: document.querySelector(\".add__icon\"),\r\n    searchInput: document.querySelector(\".search__field\"),\r\n    searchForm: document.querySelector(\".find-location\")\r\n};\r\n\r\nexport const clearPage = () => {\r\n    elements.body.innerHTML = \"\";\r\n};\r\n\r\nexport const renderLoader = parent => {\r\n    const loader = `\r\n    <div class=\"loader\">\r\n    <svg>\r\n      <use xlink:href=\"${spinner9}\"></use>\r\n    </svg>\r\n  </div>\r\n  `;\r\n    parent.insertAdjacentHTML(\"afterbegin\", loader);\r\n};\r\n\r\nexport const clearLoader = () => {\r\n    const loader = document.querySelector(`.loader`);\r\n    if (loader) loader.parentElement.removeChild(loader);\r\n};\r\n\r\nexport const clearAddIcon = () => {\r\n    elements.addIcon.innerHTML = \"\";\r\n};\r\n\r\n\r\nexport const getDay = date => {\r\n    const weekDays = [\r\n        \"Sunday \",\r\n        \"Monday\",\r\n        \"Tuesday\",\r\n        \"Wednesday\",\r\n        \"Thursday\",\r\n        \"Friday\",\r\n        \"Saturday\"\r\n    ];\r\n    const d = new Date(date);\r\n    const day = d.getDay();\r\n    const currDay = weekDays[day];\r\n    return currDay;\r\n};\r\n\r\nexport const widnDirection = windD => {\r\n    if (windD.startsWith(\"E\")) {\r\n        return \"East\";\r\n    } else if (windD.startsWith(\"W\")) {\r\n        return \"West\";\r\n    } else if (windD.startsWith(\"S\")) {\r\n        return \"South\";\r\n    } else {\r\n        return \"North\";\r\n    }\r\n};\r\n\r\nexport const converDate = d => {\r\n    const reversDate = d\r\n        .split(\"-\")\r\n        .reverse()\r\n        .join(\"-\");\r\n    return reversDate;\r\n};","import { elements } from \"../utils/utils\";\r\nimport plusOutline from \"../img/svg/plus-outline\";\r\n// import plusOutline from \"./img/svg/plus-outline\";\r\n\r\nexport const weatherBasedOnGeoLocation = res => {\r\n    const markup = `\r\n\r\n  <div class=\"forecast__geolocation-today\">\r\n        <div class=\"location__today\">${res.name}</div>\r\n      <div class=\"degree-today\">\r\n        <div class=\"num__today-temp\">${res.temp}<sup>o</sup>C</div>\r\n        <div class=\"forecast__icon-today\">\r\n        <img src=\"http://openweathermap.org/img/wn/${res.icon}@2x.png\" alt=\"\" >\r\n        </div>\r\n      </div>\r\n      <div class=\"icon__section-today\">\r\n      <span><img src=\"../img/icon-umberella.png\" alt=\"\">${res.humidity}</span>\r\n      <span><img src=\"../img/icon-wind.png\" alt=\"\">${res.windSpeed}</span>\r\n      <span><img src=\"../img/icon-compass.png\" alt=\"\">${res.windSpeed}</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n  `;\r\n\r\n    elements.body.innerHTML = markup;\r\n};\r\n\r\nexport const adIcon = () => {\r\n    const markup = ` \r\n      <svg  class=\"icon__add\" viewBox=\"0 0 100 100\">\r\n        <use xlink:href=\"${plusOutline}\"></use>\r\n      </svg>\r\n    `;\r\n    elements.addIcon.innerHTML = markup;\r\n};\r\n","export default class Search {\r\n    constructor(query) {\r\n        this.query = query;\r\n    }\r\n\r\n    async getResults() {\r\n        // const proxy = \"https://cors-anywhere.herokuapp.com/\";\r\n        // const proxy = \"https://cors-proxy.htmldriven.com/\";\r\n        const proxy = \"\";\r\n        try {\r\n            const res = await fetch(\r\n                // `${proxy}https://www.metaweather.com/api/location/search/?query=${this.query}`,\r\n                `https://www.metaweather.com/api/location/search/?query=london`,\r\n                {\r\n                    method: \"GET\",\r\n                    mode: \"no-cors\",\r\n                    // headers: {\r\n                    //     \"Content-Type\": \"application/json\",\r\n                    //     \"Access-Control-Allow-Origin\":\r\n                    //         \"https://www.metaweather.com\",\r\n                    // },\r\n                }\r\n            );\r\n            this.data = await res.json();\r\n            console.log(data);\r\n\r\n            this.name = await this.data[0].title;\r\n            this.woeid = await this.data[0].woeid;\r\n            this.lantLang = await this.data[0].latt_long;\r\n\r\n            // console.log(this.result);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n","export default class WoeID {\r\n    constructor(woeid) {\r\n        this.woeid = woeid;\r\n    }\r\n\r\n    async getResults() {\r\n        const proxy = \"https://cors-anywhere.herokuapp.com/\";\r\n        try {\r\n            const res = await fetch(\r\n                `${proxy}https://www.metaweather.com/api/location/${this.woeid}`\r\n            );\r\n            const data = await res.json();\r\n\r\n            // if (data) {\r\n            //     this.consolidatedData = Array.from(data.consolidated_weather);\r\n            //     // this.short = Array.from(data.consolidated_weather).splice(1);\r\n            //     this.name = data.title;\r\n            // }\r\n            if (data) {\r\n                this.consolidatedData = {\r\n                    dataComplete: Array.from(data.consolidated_weather).splice(0,1),\r\n                    dataShort : Array.from(data.consolidated_weather).splice(1),\r\n                    dataName : data.title\r\n                }        \r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n","import { elements } from \"../utils/utils\";\r\n\r\nexport const searchView = () => {\r\n    const markup = `\r\n    <div class=\"hero\">\r\n    <div class=\"container container-input\">\r\n      <form  class=\"find-location\" name=\"signup\">\r\n        <input type=\"text\" class=\"search__field\" name=\"text\" placeholder=\"Find your location...\">\r\n        <input type=\"submit\" name=\"submit\" value=\"Find\">\r\n      </form>\r\n    </div>\r\n     `;\r\n\r\n    elements.body.innerHTML = markup;\r\n};\r\n\r\nexport const cityRender = res => {\r\n    const markup = `\r\n    <div class=\"city__woied\" data-woeid=\"${res.woeid}\">\r\n        <h1 class=\"city__name\">\r\n        - ${res.name} -\r\n        </h1>\r\n        <p class=\"city__latlong\">${res.lantLang.split(\",\").join(\" \")}</p>\r\n        </div>\r\n`;\r\n\r\n    document\r\n        .querySelector(\".container-input\")\r\n        .insertAdjacentHTML(\"afterend\", markup);\r\n};\r\n\r\nexport const renderError = res => {\r\n    const markup = `\r\n  <div class=\"error\">\r\n    <h1>Something went wrong. Please try again! ðŸ˜Ž</h1>\r\n  </div>\r\n`;\r\n\r\n    elements.body.innerHTML = markup;\r\n};\r\n\r\nexport const getInput = () => {\r\n    const queryValue = document.querySelector(\".search__field\").value;\r\n    return queryValue;\r\n};\r\n\r\nexport const clearInput = () =>\r\n    (document.querySelector(\".search__field\").value = \"\");\r\n\r\n// export const deleteItem = woeid => {\r\n//     const city = document.querySelector(`[data-woeid=\"${woeid}\"]`);\r\n//     if (city) item.parentElement.removeChild(city);\r\n// };\r\n","import { elements, getDay, widnDirection, converDate } from \"../utils/utils\";\r\n\r\nconst createDay = data => {\r\n    return `<div class=\"forecast \">\r\n<div class=\"forecast-header\">\r\n  <div class=\"day\">${getDay(data.applicable_date)}</div>\r\n</div>\r\n\r\n<div class=\"forecast-content\">\r\n  <div class=\"forecast-icon\">\r\n    <img src=\"https://www.metaweather.com/static/img/weather/${\r\n        data.weather_state_abbr\r\n    }.svg\" alt=\"\" width=48>\r\n  </div>\r\n  <div class=\"temp\">\r\n    <div class=\"degree\">${Math.round(data.the_temp)}&#176;C</div>\r\n    <div class=\"min_temp\">\r\n    <small>Max: ${Math.round(data.max_temp)}&#176;</small>\r\n    <small>Min: ${Math.round(data.min_temp)}&#176;</small>\r\n  </div>\r\n  </div>\r\n</div>\r\n</div>`;\r\n};\r\n\r\nexport const woeidToday = (n, data, d) => {\r\n    const markup = `\r\n    <div class=\"forecast-table\">\r\n      <div class=\"container\">\r\n        <div class=\"forecast-container\">\r\n          <div class=\"today forecast\">\r\n            <div class=\"forecast-header forecast-header-today\">\r\n              <div class=\"day\">${getDay(data[0].applicable_date)}</div>\r\n              <div class=\"date\">${converDate(data[0].applicable_date)}</div>\r\n            </div>\r\n\r\n            <div class=\"forecast-content forecast-content-today\">\r\n              <div class=\"location\">${n}</div>\r\n              <div class=\"degree\">\r\n                <div class=\"num\">${Math.round(data[0].the_temp)}&#176;C</div>\r\n                <div class=\"forecast-icon\">\r\n                  <img src=\"https://www.metaweather.com/static/img/weather/${\r\n                      data[0].weather_state_abbr\r\n                  }.svg\" alt=\"\" width=90>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"wind-icons\">\r\n                <svg class=\"icon__small\">\r\n                  <use xlink:href=\"../img/sprite.svg#icon-umbrella\"></use>\r\n                </svg>\r\n                <span>${data[0].humidity}%</span>\r\n                <svg class=\"icon__small\">\r\n                  <use xlink:href=\"../img/sprite.svg#icon-wind\"></use>\r\n                </svg>\r\n                <span>${Math.round(data[0].wind_speed)}km/h</span>\r\n                <svg class=\"icon__small\">\r\n                  <use xlink:href=\"../img/sprite.svg#icon-compass\"></use>\r\n                </svg>\r\n                <span>${widnDirection(data[0].wind_direction_compass)}</span>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n      ${d.map(el => createDay(el)).join(\"\")}\r\n              \r\n        </div>\r\n      </div>\r\n    </div>`;\r\n\r\n    elements.body.innerHTML = markup;\r\n};\r\n","import { getCoords } from \"./Model/location\";\r\nimport { getWeatherAW } from \"./Model/current\";\r\nimport {\r\n    renderLoader,\r\n    elements,\r\n    clearPage,\r\n    clearAddIcon,\r\n    clearLoader\r\n} from \"./utils/utils\";\r\nimport { weatherBasedOnGeoLocation, adIcon } from \"./views/currentView\";\r\nimport Search from \"./Model/search\";\r\nimport WoeID from \"./Model/woeId\";\r\nimport {\r\n    searchView,\r\n    cityRender,\r\n    getInput,\r\n    clearInput,\r\n    renderError\r\n} from \"./views/searchView\";\r\nimport { woeidToday } from \"./views/woeidView\";\r\n\r\nconst state = {};\r\nconsole.log(state);\r\n\r\nconst weatherOnGeoLocation = async () => {\r\n    const { lat, long } = await getCoords();\r\n    console.log(lat, long);\r\n    renderLoader(elements.body);\r\n    try {\r\n        state.w = await getWeatherAW(lat, long);\r\n        weatherBasedOnGeoLocation(state.w);\r\n        adIcon();\r\n    } catch (error) {\r\n        console.log(error.message, error.status, error.stack);\r\n    }\r\n};\r\n\r\nwindow.addEventListener(\"load\", weatherOnGeoLocation);\r\n\r\nelements.addIcon.addEventListener(\"click\", e => {\r\n    const btn = e.target.closest(\".icon__add\");\r\n\r\n    if (btn) {\r\n        clearPage();\r\n        searchView();\r\n        clearAddIcon();\r\n    }\r\n});\r\n\r\nconst controlSearch = async () => {\r\n    // 1) Get query from view\r\n    const query = await getInput();\r\n    console.log(query);\r\n\r\n    if (query) {\r\n        state.search = new Search(query);\r\n\r\n        clearInput();\r\n        renderLoader(elements.body);\r\n\r\n        try {\r\n            const d = await state.search.getResults();\r\n            if (state.search) {\r\n                clearLoader();\r\n                cityRender(state.search);\r\n            }\r\n        } catch (err) {\r\n            renderError(state.search);\r\n            clearLoader();\r\n            console.log(err);\r\n        }\r\n    }\r\n};\r\n\r\nconst cityController = async e => {\r\n    const data = await e.target.closest(\".city__woied\").dataset.woeid;\r\n    if (data) {\r\n        console.log(data);\r\n        state.d = new WoeID(data);\r\n\r\n        console.log(e.target);\r\n        try {\r\n            await state.d.getResults();\r\n\r\n            clearPage();\r\n            renderLoader(elements.body);\r\n            if (state.d) {\r\n                clearLoader();\r\n                woeidToday(\r\n                    state.d.consolidatedData.dataName,\r\n                    state.d.consolidatedData.dataComplete,\r\n                    state.d.consolidatedData.dataShort\r\n                );\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n};\r\n\r\nelements.body.addEventListener(\"click\", e => {\r\n    const form = e.target.closest(\".find-location\");\r\n    const city = e.target.closest(\".city__woied\");\r\n\r\n    if (form) {\r\n        form.addEventListener(\"submit\", e => {\r\n            e.preventDefault();\r\n            controlSearch();\r\n        });\r\n    }\r\n\r\n    if (city) {\r\n        city.addEventListener(\"click\", cityController);\r\n    }\r\n});\r\n"]}